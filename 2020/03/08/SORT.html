<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Sort | Akash’s Blog</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Sort" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Simple Online And Realtime Tracker paper walkthrough." />
<meta property="og:description" content="Simple Online And Realtime Tracker paper walkthrough." />
<link rel="canonical" href="https://akashprakas.github.io/My-blog/2020/03/08/SORT.html" />
<meta property="og:url" content="https://akashprakas.github.io/My-blog/2020/03/08/SORT.html" />
<meta property="og:site_name" content="Akash’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-08T00:00:00-06:00" />
<script type="application/ld+json">
{"description":"Simple Online And Realtime Tracker paper walkthrough.","@type":"BlogPosting","url":"https://akashprakas.github.io/My-blog/2020/03/08/SORT.html","headline":"Sort","dateModified":"2020-03-08T00:00:00-06:00","datePublished":"2020-03-08T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://akashprakas.github.io/My-blog/2020/03/08/SORT.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/My-blog/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://akashprakas.github.io/My-blog/feed.xml" title="Akash's Blog" /><link rel="shortcut icon" type="image/x-icon" href="/My-blog/images/favicon.ico"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Sort | Akash’s Blog</title>
<meta name="generator" content="Jekyll v4.0.0" />
<meta property="og:title" content="Sort" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Simple Online And Realtime Tracker paper walkthrough." />
<meta property="og:description" content="Simple Online And Realtime Tracker paper walkthrough." />
<link rel="canonical" href="https://akashprakas.github.io/My-blog/2020/03/08/SORT.html" />
<meta property="og:url" content="https://akashprakas.github.io/My-blog/2020/03/08/SORT.html" />
<meta property="og:site_name" content="Akash’s Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2020-03-08T00:00:00-06:00" />
<script type="application/ld+json">
{"description":"Simple Online And Realtime Tracker paper walkthrough.","@type":"BlogPosting","url":"https://akashprakas.github.io/My-blog/2020/03/08/SORT.html","headline":"Sort","dateModified":"2020-03-08T00:00:00-06:00","datePublished":"2020-03-08T00:00:00-06:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://akashprakas.github.io/My-blog/2020/03/08/SORT.html"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

<link href="https://unpkg.com/@primer/css/dist/primer.css" rel="stylesheet" />
<link rel="stylesheet" href="//use.fontawesome.com/releases/v5.0.7/css/all.css"><link type="application/atom+xml" rel="alternate" href="https://akashprakas.github.io/My-blog/feed.xml" title="Akash's Blog" />

<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    // remove paragraph tags in rendered toc (happens from notebooks)
    var toctags = document.querySelectorAll(".toc-entry")
    toctags.forEach(e => (e.firstElementChild.innerText = e.firstElementChild.innerText.replace('¶', '')))
    });
</script>
</head><body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/My-blog/">Akash&#39;s Blog</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/My-blog/about/">About Me</a><a class="page-link" href="/My-blog/search/">Search</a><a class="page-link" href="/My-blog/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Sort</h1><p class="page-description">Simple Online And Realtime Tracker paper walkthrough.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2020-03-08T00:00:00-06:00" itemprop="datePublished">
        Mar 8, 2020
      </time>
       • <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#simple-online-and-realtime-tracking">SIMPLE ONLINE AND REALTIME TRACKING</a>
<ul>
<li class="toc-entry toc-h3"><a href="#brief-intro">Brief Intro…</a></li>
<li class="toc-entry toc-h3"><a href="#code-walkthrough">Code Walkthrough</a></li>
</ul>
</li>
</ul><h1 id="simple-online-and-realtime-tracking">
<a class="anchor" href="#simple-online-and-realtime-tracking" aria-hidden="true"><span class="octicon octicon-link"></span></a>SIMPLE ONLINE AND REALTIME TRACKING</h1>

<h3 id="brief-intro">
<a class="anchor" href="#brief-intro" aria-hidden="true"><span class="octicon octicon-link"></span></a>Brief Intro…</h3>
<p>I assume that you have read the paper and this will be a walk through of the implementation. Basically the paper assumes a constant velocity model. The detection ouputs are fed to the tracker and the tracker will track multiple object between frames. You can fine tune some of the parameters of the tracker to match your specific needs.</p>

<h3 id="code-walkthrough">
<a class="anchor" href="#code-walkthrough" aria-hidden="true"><span class="octicon octicon-link"></span></a>Code Walkthrough</h3>

<p>The Sort() class is the main class we use for updating the tracker. The init method of sort class is</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Sort</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">max_age</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span><span class="n">min_hits</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
    <span class="s">"""
    Sets key parameters for SORT
    """</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">max_age</span> <span class="o">=</span> <span class="n">max_age</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">min_hits</span> <span class="o">=</span> <span class="n">min_hits</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">trackers</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">frame_count</span> <span class="o">=</span> <span class="mi">0</span>
</code></pre></div></div>
<p>The init method takes two arguments max_age and min_hits, max_age will be used to remove the trackers from the list of trackers. The tracker will have a  time_since_update variable which will get incremented by one each time an update is happening. So if we set max_age to 1 then it means that if were tracking an object in frames say 2,3,4 and in frames 5 and 6 the detection output(that is the tracker input) was empty then that tracker will be removed from the trackers list and even if the same object reapper (say our detector was not able to detect the object in frames 5 and 6 even though the object was there and in the 7th frame it detects) then a new tracker will be assigned to it.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">#remove dead tracklet
</span>        <span class="k">if</span><span class="p">(</span><span class="n">trk</span><span class="o">.</span><span class="n">time_since_update</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_age</span><span class="p">):</span>
          <span class="bp">self</span><span class="o">.</span><span class="n">trackers</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
</code></pre></div></div>

<p>The main method in sort is the <code class="highlighter-rouge">update(self,dets)</code> which takes in the detector output as input. The detector output is expected to be a 
numpy array of the form <code class="highlighter-rouge">[[x1,y1,x2,y2,score],[x1,y1,x2,y2,score],...]</code>.Also make sure you call this method even when there are empty
detections with the np.empty(0,5).</p>


  </div><a class="u-url" href="/My-blog/2020/03/08/SORT.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/My-blog/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/My-blog/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/My-blog/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Writing of some technical stuff.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://twitter.com/akashaapz" title="akashaapz"><svg class="svg-icon grey"><use xlink:href="/My-blog/assets/minima-social-icons.svg#twitter"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
